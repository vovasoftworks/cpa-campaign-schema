# CPA Campaign Schema (Laravel)

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Laravel 12, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è CPA-–∫–∞–º–ø–∞–Ω–∏–π: –∫–ª–∏–∫–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ –æ—Ñ—Ñ–µ—Ä—ã.  
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

## üì¶ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- –ú–∏–≥—Ä–∞—Ü–∏–∏ (`php artisan migrate`) –¥–ª—è:
    - offers (–æ—Ñ—Ñ–µ—Ä—ã –∏ –≤—ã–ø–ª–∞—Ç—ã)
    - sources (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞)
    - clicks (–∫–ª–∏–∫–∏ —Å IP, user-agent)
    - conversions (–∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å –¥–æ—Ö–æ–¥–æ–º –∏ —Å—Ç–∞—Ç—É—Å–æ–º)
- Eloquent-—Å–≤—è–∑–∏ (`hasMany`, `belongsTo`, `hasOne`)
- –°–∏–¥–µ—Ä—ã (`php artisan db:seed`) —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: –∏–Ω–¥–µ–∫—Å—ã –ø–æ `status`, `created_at`, `offer_id`, `source_id`, `click_id`
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç PSR-12 –∏ Laravel-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

### Offers

| –ü–æ–ª–µ      | –¢–∏–ø         | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π           |
|-----------|--------------|------------------------|
| id        | BIGINT       | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á         |
| name      | VARCHAR      | –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞        |
| payout    | DECIMAL(10,2)| –í—ã–ø–ª–∞—Ç–∞ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—é   |

---

### Sources

| –ü–æ–ª–µ    | –¢–∏–ø     | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π         |
|---------|----------|----------------------|
| id      | BIGINT   | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á       |
| name    | VARCHAR  | –ù–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞   |

---

### Clicks

| –ü–æ–ª–µ       | –¢–∏–ø        | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                    |
|------------|-------------|-------------------------------|
| id         | BIGINT      | PK                            |
| click_id   | VARCHAR(64) | –í–Ω–µ—à–Ω–∏–π click ID              |
| offer_id   | FK ‚Üí offers | –û—Ñ—Ñ–µ—Ä                         |
| source_id  | FK ‚Üí sources| –ò—Å—Ç–æ—á–Ω–∏–∫                      |
| ip         | VARCHAR     | IP-–∞–¥—Ä–µ—Å                      |
| user_agent | TEXT        | User-Agent                    |

---

### Conversions

| –ü–æ–ª–µ     | –¢–∏–ø                      | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                     |
|----------|---------------------------|----------------------------------|
| id       | BIGINT                    | PK                              |
| click_id | FK ‚Üí clicks.click_id      | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∏–∫—É                |
| status   | ENUM(pending/approved/...)| –°—Ç–∞—Ç—É—Å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏                |
| revenue  | DECIMAL(10,2)             | –î–æ—Ö–æ–¥                           |

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
php artisan migrate:fresh --seed
