# CPA Campaign Schema (Laravel)

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Laravel 12, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è CPA-–∫–∞–º–ø–∞–Ω–∏–π: –∫–ª–∏–∫–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ –æ—Ñ—Ñ–µ—Ä—ã.  
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

## üì¶ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- –ú–∏–≥—Ä–∞—Ü–∏–∏ (`php artisan migrate`) –¥–ª—è:
    - offers (–æ—Ñ—Ñ–µ—Ä—ã –∏ –≤—ã–ø–ª–∞—Ç—ã)
    - sources (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞)
    - clicks (–∫–ª–∏–∫–∏ —Å IP, user-agent)
    - conversions (–∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å –¥–æ—Ö–æ–¥–æ–º –∏ —Å—Ç–∞—Ç—É—Å–æ–º)
- Eloquent-—Å–≤—è–∑–∏ (`hasMany`, `belongsTo`, `hasOne`)
- –°–∏–¥–µ—Ä—ã (`php artisan db:seed`) —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: –∏–Ω–¥–µ–∫—Å—ã –ø–æ `status`, `created_at`, `offer_id`, `source_id`, `click_id`
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç PSR-12 –∏ Laravel-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

## ‚úÖ –ü–ª—é—Å—ã —Ä–µ—à–µ–Ω–∏—è

- –ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Eloquent-—Å–≤—è–∑–µ–π ‚Äî —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –∫–æ–¥–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã)
- –ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã —Å—É—â–Ω–æ—Å—Ç–∏: –∫–ª–∏–∫–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –æ—Ñ—Ñ–µ—Ä—ã
- Laravel-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å—Ç—Ä–æ–∏—Ç—å API –∏–ª–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –º–∏–Ω—É—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≥–µ–æ–¥–∞–Ω–Ω—ã–µ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- –ù–µ—Ç –ª–æ–≥–æ–≤ postback-–∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∞—Ç—å raw-—Ç—Ä–∞—Ñ–∏–∫)
- –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º—É–ª—å—Ç–∏–∞—Ç—Ä–∏–±—É—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ä–æ–Ω–∫–∞: –∫–ª–∏–∫ ‚Üí –ª–∏–¥ ‚Üí –æ–ø–ª–∞—Ç–∞)
- –ù–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–ª–∞—Ç –æ—Ñ—Ñ–µ—Ä–∞ (–∏—Å—Ç–æ—Ä–∏—è payout‚Äô–æ–≤)

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

### Offers

| –ü–æ–ª–µ      | –¢–∏–ø         | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π           |
|-----------|--------------|------------------------|
| id        | BIGINT       | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á         |
| name      | VARCHAR      | –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–∞        |
| payout    | DECIMAL(10,2)| –í—ã–ø–ª–∞—Ç–∞ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—é   |

---

### Sources

| –ü–æ–ª–µ    | –¢–∏–ø     | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π         |
|---------|----------|----------------------|
| id      | BIGINT   | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á       |
| name    | VARCHAR  | –ù–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞   |

---

### Clicks

| –ü–æ–ª–µ       | –¢–∏–ø        | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                    |
|------------|-------------|-------------------------------|
| id         | BIGINT      | PK                            |
| click_id   | VARCHAR(64) | –í–Ω–µ—à–Ω–∏–π click ID              |
| offer_id   | FK ‚Üí offers | –û—Ñ—Ñ–µ—Ä                         |
| source_id  | FK ‚Üí sources| –ò—Å—Ç–æ—á–Ω–∏–∫                      |
| ip         | VARCHAR     | IP-–∞–¥—Ä–µ—Å                      |
| user_agent | TEXT        | User-Agent                    |

---

### Conversions

| –ü–æ–ª–µ     | –¢–∏–ø                      | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                     |
|----------|---------------------------|----------------------------------|
| id       | BIGINT                    | PK                              |
| click_id | FK ‚Üí clicks.click_id      | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∏–∫—É                |
| status   | ENUM(pending/approved/...)| –°—Ç–∞—Ç—É—Å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏                |
| revenue  | DECIMAL(10,2)             | –î–æ—Ö–æ–¥                           |

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
php artisan migrate:fresh --seed
